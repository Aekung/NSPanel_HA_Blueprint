#####################################################################################################
##### NSPANEL ESPHOME created by Blackymas - https://github.com/Blackymas/NSPanel_HA_Blueprint  #####
##### ESPHOME CORE - Page Confirm                                                               #####
##### PLEASE only make changes if it is necessary and also the required knowledge is available. #####
##### For normal use with the Blueprint, no changes are necessary.                              #####
#####################################################################################################

---
substitutions:
  please_confirm: "Please confirm"

globals:
  #### Localization (MUI) ####
  - id: mui_please_confirm
    type: std::string
    restore_value: true
    initial_value: '"${please_confirm}"'

script:
  - id: !extend page_changed
    then:
      - lambda: |-
          if (current_page->state == "confirm") page_confirm->execute();

  - id: page_confirm
    mode: restart
    then:
      - lambda: |-
          if (!id(is_uploading_tft)) display_wrapped_text->execute("confirm", "title", id(mui_please_confirm).c_str(), 15);

  - id: !extend set_var_string
    then:
      - lambda: |-
          if (component == "mui_please_confirm") id(mui_please_confirm) = val;

  - id: !extend stop_all
    then:
      - script.stop: page_confirm
...
